# Render.com Deployment Guide

## 📋 Prerequisites

1. GitHub repository: **https://github.com/jmocera/eqori-ai-suite**
2. OpenAI API key
3. Render.com account

## 🚀 Deployment Options

Choose one of the following deployment methods:

### Option 1: Blueprint Deployment (Recommended - Automatic)
### Option 2: Manual Setup (Step-by-step)

---

## 🔥 Option 1: Blueprint Deployment (Recommended)

This is the easiest method using the included `render.yaml` file.

### Steps:

1. **Create Blueprint**
   - Go to [Render Dashboard](https://dashboard.render.com) → **New** → **Blueprint**
   - Connect your GitHub account if not already connected
   - Select repository: `jmocera/eqori-ai-suite`
   - Render will automatically detect the `render.yaml` file

2. **Configure Environment Variables**
   - When prompted, add your **OpenAI API Key**:
     ```
     OPENAI_API_KEY = sk-your-openai-api-key-here
     ```
   - All other variables will be auto-configured

3. **Deploy**
   - Click **"Apply"**
   - Wait for both services to deploy (3-5 minutes)

4. **Access Your Application**
   - Frontend: `https://eqori-frontend-[random].onrender.com`
   - Backend API: `https://eqori-backend-[random].onrender.com`

---

## 🛠️ Option 2: Manual Setup

If you prefer manual control, follow these steps:

### 🔧 Backend Service Setup

1. **Create Backend Web Service**
   - Go to [Render Dashboard](https://dashboard.render.com) → **New** → **Web Service**
   - Connect GitHub repository: `jmocera/eqori-ai-suite`

2. **Configure Backend Settings**
   ```
   Name: eqori-backend
   Branch: main
   Root Directory: backend
   Environment: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: uvicorn app.main:app --host 0.0.0.0 --port $PORT
   ```

3. **Backend Environment Variables**
   ```
   OPENAI_API_KEY = sk-your-openai-api-key-here
   SECRET_KEY = [auto-generated by Render]
   DATABASE_URL = sqlite:///./eqori.db
   ENVIRONMENT = production
   ```

4. **Deploy Backend**
   - Click **"Create Web Service"**
   - Wait for deployment (2-3 minutes)
   - Note the backend URL: `https://eqori-backend-[random].onrender.com`

### 🌐 Frontend Service Setup

1. **Create Frontend Static Site**
   - Go to [Render Dashboard](https://dashboard.render.com) → **New** → **Static Site**
   - Use the same GitHub repository: `jmocera/eqori-ai-suite`

2. **Configure Frontend Settings**
   ```
   Name: eqori-frontend
   Branch: main
   Root Directory: frontend
   Build Command: npm ci && npm run build
   Publish Directory: build
   ```

3. **Frontend Environment Variables**
   ```
   REACT_APP_API_URL = https://your-backend-url.onrender.com
   ```
   *(Replace with your actual backend URL from step 4 above)*

4. **Deploy Frontend**
   - Click **"Create Static Site"**
   - Wait for deployment (2-3 minutes)

---

## 🌍 After Deployment

### Your Live Application URLs:
- **Frontend (Main App)**: `https://eqori-frontend-[random].onrender.com`
- **Backend API**: `https://eqori-backend-[random].onrender.com`
- **API Documentation**: `https://eqori-backend-[random].onrender.com/docs`

### 🧪 Test Your Deployment:

1. **Visit your frontend URL**
2. **Register a new account**
3. **Login and test AI generation**:
   - Product Name: "Wireless Headphones"
   - Category: "Electronics"
   - Features: "Noise cancellation, 20-hour battery"
   - Target Audience: "Music lovers"
   - Tone: "Professional"
   - Keywords: "wireless, audio, bluetooth"

---

## 🔧 Environment Variables Reference

### Required for Backend:
| Variable | Description | Example |
|----------|-------------|---------|
| `OPENAI_API_KEY` | Your OpenAI API key | `sk-proj-abc123...` |
| `SECRET_KEY` | JWT secret (auto-generated) | `random-secure-string` |
| `DATABASE_URL` | Database connection | `sqlite:///./eqori.db` |
| `ENVIRONMENT` | App environment | `production` |

### Required for Frontend:
| Variable | Description | Example |
|----------|-------------|---------|
| `REACT_APP_API_URL` | Backend service URL | `https://eqori-backend-xyz.onrender.com` |

---

## 🐛 Troubleshooting

### Common Issues:

**1. Build Fails - Python Dependencies**
- Ensure you're using the `backend` root directory
- Check that `requirements.txt` exists in backend folder
- Verify Python version compatibility (3.11+)

**2. Frontend Can't Connect to Backend**
- Verify `REACT_APP_API_URL` points to correct backend URL
- Check backend service is running and healthy
- Test backend directly: `https://your-backend-url.onrender.com/health`

**3. OpenAI API Errors**
- Verify API key is correct and has credits
- Check API key permissions
- Monitor backend logs for specific error messages

**4. CORS Issues**
- Backend is pre-configured for Render domains
- Ensure frontend and backend are both deployed on Render

**5. Free Tier Limitations**
- Services sleep after 15 minutes of inactivity
- First request after sleep takes 30-60 seconds
- Consider upgrading to paid plans for production use

---

## 💡 Performance Optimization

### Free Tier Tips:
- ✅ Both services work on Render's free tier
- ✅ SQLite database persists between deployments
- ⚠️ Services auto-sleep after 15 minutes of inactivity
- ⚠️ Cold starts take 30-60 seconds

### For Production:
- Consider upgrading to **Starter** plans ($7/month per service)
- Add PostgreSQL database for better performance
- Set up custom domain names
- Enable automatic deployments on git push

---

## 🔒 Security Features

- ✅ JWT authentication with secure tokens
- ✅ Password hashing with bcrypt
- ✅ CORS properly configured for Render domains
- ✅ Environment variables secured
- ✅ No API keys committed to repository
- ✅ Input validation with Pydantic
- ✅ SQL injection prevention with SQLAlchemy ORM

---

## 🚀 Going Live Checklist

- [ ] Backend service deployed and accessible
- [ ] Frontend service deployed and accessible
- [ ] Environment variables configured correctly
- [ ] OpenAI API key working (test content generation)
- [ ] User registration/login flow tested
- [ ] AI content generation tested
- [ ] Content history and management tested
- [ ] Both services responding to health checks

---

## 📈 Monitoring Your Application

### Health Checks:
- **Backend**: `https://your-backend-url.onrender.com/health`
- **Frontend**: Accessible and loads properly

### Render Dashboard:
- Monitor build logs
- Check service status
- View deployment history
- Monitor resource usage

---

## 🎯 Next Steps

1. **Custom Domain** (Optional): Add your own domain in Render settings
2. **Database Upgrade** (Production): Consider PostgreSQL for high traffic
3. **Monitoring**: Set up error tracking and analytics
4. **Scaling**: Upgrade to paid plans for zero-downtime

---

Your **Eqori AI Marketing Suite** is now live and ready to generate AI-powered marketing content! 🎉

**Repository**: https://github.com/jmocera/eqori-ai-suite